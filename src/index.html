<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Yacht-Adventuress</title>
    <!-- Normalize -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/modern-normalize@2.0.0/modern-normalize.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css"
    />
    <!-- Custom styles -->
    <link rel="stylesheet" href="./css/styles.css" />
  </head>
  <body>
    <load ="partials/header.html" />

    <main>
      <load ="partials/hero.html" />
      <load ="partials/aboutblock.html" />
      <load ="partials/yahtsblock.html" />
      <load ="partials/servicesblock.html" />
      <load ="partials/rentblock.html" />
      <load ="partials/reviewsblock.html" />
    </main>

    <load ="partials/back2top.html" />
    <load ="partials/footer.html" />

    <script
      defer
      src="https://cdnjs.cloudflare.com/ajax/libs/body-scroll-lock/3.1.5/bodyScrollLock.min.js"
      integrity="sha512-HowizSDbQl7UPEAsPnvJHlQsnBmU2YMrv7KkTBulTLEGz9chfBoWYyZJL+MUO6p/yBuuMO/8jI7O29YRZ2uBlA=="
      crossorigin="anonymous"
    ></script>

    <script src="./js/menu.js"></script>
    <script>
      (() => {
        const mobileMenu = document.querySelector('.js-menu-container');
        const openMenuBtn = document.querySelector('.js-open-menu');
        const closeMenuBtn = document.querySelector('.js-close-menu');

        const toggleMenu = () => {
          const isMenuOpen =
            openMenuBtn.getAttribute('aria-expanded') === 'true' || false;
          openMenuBtn.setAttribute('aria-expanded', !isMenuOpen);
          mobileMenu.classList.toggle('is-open');

          const scrollLockMethod = !isMenuOpen
            ? 'disableBodyScroll'
            : 'enableBodyScroll';
          bodyScrollLock[scrollLockMethod](document.body);
        };

        openMenuBtn.addEventListener('click', toggleMenu);
        closeMenuBtn.addEventListener('click', toggleMenu);

        // Close the mobile menu on wider screens if the device orientation changes
        window
          .matchMedia('(min-width: 768px)')
          .addEventListener('change', e => {
            if (!e.matches) return;
            mobileMenu.classList.remove('is-open');
            openMenuBtn.setAttribute('aria-expanded', false);
            bodyScrollLock.enableBodyScroll(document.body);
          });
      })();
      (() => {
        const refs = {
          openMenuBtn: document.querySelector('[data-menu-open]'),
          closeMenuBtn: document.querySelector('[data-menu-close]'),
          menu: document.querySelector('[data-menu]'),
        };

        refs.openMenuBtn.addEventListener('click', toggleModal);
        refs.closeMenuBtn.addEventListener('click', toggleModal);

        function toggleModal() {
          refs.menu.classList.toggle('is-open');
        }
      })();
    </script>
    <script defer src="./js/modal.js"></script>
  </body>
</html>
